---
title: "Final Project..."
author: "Ben Essex, Derek Che, & Chris Marston"
date: 04/02/2022
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

#TODO (add outline comments)

**PROPOSED QUESTIONS** #TODO (we might want to slim these down a bit)

These are the two primary questions we originally set out to answer.

- "Do Covid case rates affect Zoom lecture attendance?"
- "Does weather predict Zoom lecture attendance?"

These are the original questions we had proposed broken down into a more "testable" format as per Scott's instructions.

- "Does weather predict Zoom lecture attendance?"
    - "Does the temperature 2 hours before lecture affect Zoom lecture attendance?"
    - "Does the temperature 1 hour before lecture affect Zoom lecture attendance?"
    - "Does the temperature at the start of lecture affect Zoom lecture attendance?"
    - "Does the type of weather (cloudy, sunny, etc.) affect Zoom lecture attendance?"
- "Do Salt Lake County Covid case rates affect Zoom lecture attendance?"
    - "Is Zoom lecture attendance affected by the 7-day average case rate per 100,000 in SLC County?"
    - "Is Zoom lecture attendance affected by the SLC County Covid case rates per 100,000?"
    - "Is Zoom lecture attendance affected by the 7-day average positive test rate in SLC County?"

## Data Collection

#TODO (add outline comments)

Due to the breadth of scope of the two questions being answered in this study, data was gathered from a range of sources.

**Salt Lake County Covid Data**

- Data was gathered from the Utah Covid Dashboard (overview) website [here](https://coronavirus-dashboard.utah.gov/overview.html) 

**University of Utah Covid Data**

- Data was gathered from the University of Utah Covid information page.
- Important Notes:
    - The U stopped posting Covid data to their public site partway through the collection period.
        - Currently attempting to get the data from them directly...

**Weather Data**

Weather data was pulled from:

- DarkSky for first part of data collection period.
- OpenWeather for last part of data collection period.
- Important Notes:
    - We switched data collection sources part way through the collection period.

**Zoom Attendance Data (headcounts)**

- Gathered directly by attending Zoom and recording attendee count by Zoom.
    - Professor excluded from count.
    - Excluded ourselves if we would have attended in person otherwise.
    - TAs were left in the counts - too difficult to remove them accurately.
    - Attendees counts were taken 10 min into the lecture, at the halfway point, and 10 min before the lecture ended.


## Methodology

#TODO (add outline comments)

## Analysis

#TODO (add outline comments)

```{r}
# import libraries
# data <- read csvs

# +-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
# |  Date |  T+10 | T+40 | T+70 | mean(...) | Temp T-2 | Temp T-1 | Temp T-0 | Weather | Class | UU New Cases | UU 7-Day Avg New Cases | SLCo Case Rate | SLCo 7-Day Avg Case Rate| SLCo 7-Day Avg Positive Test Rate | 
# +-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

# regression analyses:
#   - stimulus: nominal_weather, response: mean_attendance
#     - logistic regression(?)
#   - stimulus: temperature ->
#     - linear regression
#     - T-2 -> mean_attendance
#     - T-1 -> mean_attendance
#     - T-0 -> mean_attendance
#   - stimulus: COVID... ->
#     - linear regression
#     - uu_new_cases -> mean_attendance
#     - uu_new_cases_7day_avg -> mean_attendance
#     - slco_case_rate -> mean_attendance
#     - slco_case_rate_7day_avg -> mean_attendance
#     - slco_pos_test_rate_7day_avg -> mean_attendance
#   - more?

# correlation coefficients
#   - confidence interval
#   - point estimate
```

**TODO**

- [ ] Need to figure out how many students are enrolled in each class
    - We need to get the attendence _rate_, not raw attendence counts.
    - Can get these from CIS on the course catalouge page for each class period.

1. Decide on the data sets we want to use for covid cases
2. Load data into R-table as per outline above (table headers)
3. Clean data
    - Attendence Data
        - Calculate the average raw attendence count for each day recorded for each class
        - Calculate attendence rate for each day recored for each class
        - Calculate the average attendence rate for all classes recorded on each day
        - (this gives us a single attendence value for each day to match with our single covid data point for each day)
    - Pull data for desired date range (this sememster) from Covid data
        - This should yield a single data point for each day automatically (per metric)
4. Visualize data with...
    - 7-day Average Case Counts (Utah State Daily Case Count & 7-Day Avg Case Count)
5. Calcualte correlation coefficient point estimate
6. Calculate correlation coefficient confidence interval


```{r}
# Utah State Daily Case Count & 7-Day Avg Case Count
    # Does 7-Day avg affect Zoom attendence?
    # Does Daily Case Count affect Zoom attendence?

UT_SW_CaseCountAndSevenDayAvg = read.csv("Data/Utah State Daily Case Count & 7-Day Avg Case Count.csv")
CS_4400_Attendence_Data = read.csv(("Data/CS4400 Attendence Data.csv"))



UT_SW_CaseCountAndSevenDayAvg = UT_SW_CaseCountAndSevenDayAvg[]

```





## Limitations

#TODO (add outline comments)

## Conclusions

#TODO (add outline comments)

